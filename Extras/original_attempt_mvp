# # Outline MVP
# output a text file named teams.txt
# Create 3 teams: Sharks, Dragons and Raptors
# split the teams by experience
#   count the number of experienced with yes
#   assign them to teams first evenly
#   then assign the rest to the teams
# Extra credit
# Create 18 files
#   name files by player with underscore btw first and last name using replace
#     
#
#=========================================

import csv
# league builder main function
def league_builder():
    # Original test for main
    # print('hello')

    # Open csv and read it into an Ordered Dict soccer_reader
    with open('soccerplayers.csv', newline='') as csvfile:
        soccer_reader = csv.DictReader(csvfile)
        
        # Make array of experience, no experience players and full list for extra cred
        pl_list_exp = []
        pl_list_nexp = []
        pl_list = []
        
        # Extract keys and values from the ordered dict based on exp and no  exp
        for pl in soccer_reader:
            pl_list.append(set(pl))
            if pl["Soccer Experience"] == 'YES':
                pl_list_exp.append(pl["Name"]+", "+pl["Soccer Experience"]+", "+pl["Guardian Name(s)"])
            if pl["Soccer Experience"] == 'NO':
                pl_list_nexp.append(pl["Name"]+", "+pl["Soccer Experience"]+", "+pl["Guardian Name(s)"])
            
        # get lengths for experience and total players
        # pl_count = len([row for row in rows])
        # exp_pl_count = len([row for row in soccer_reader if row['Soccer Experience'].upper() == 'YES']) 
        # print(pl_count)
        # print(exp_pl_count)

        print(pl_list[3])
    # Create team of arrays
    teams = ['Sharks','Dragons', 'Raptors']

    # Create file named team.txt
    with open('teams.txt', 'w') as file:
        # initialize the count to 0
        count = 0
        for team in teams:
            count +=1
            file.write(team + '\n')
            if count == 1:
                for pl in pl_list_exp[:3]:
                    file.write(pl + '\n')
                    filename = pl[0].replace(' ','_')
                    pl_file = filename + '.txt'
                    with open(pl_file, 'w') as player_file:
                        pass

                for pl in pl_list_nexp[:3]:
                    file.write(pl + '\n')
            elif count == 2:
                for pl in pl_list_exp[3:6]:
                    file.write(pl + '\n')
                for pl in pl_list_nexp[3:6]:
                    file.write(pl + '\n')
            elif count == 3:
                for pl in pl_list_exp[6:9]:
                    file.write(pl + '\n')
                for pl in pl_list_nexp[6:9]:
                    file.write(pl + '\n')
            file.write('\n')

        # Write the player names under the team names




if __name__ == "__main__":
    # call league builder
    league_builder()
    